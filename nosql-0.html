
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Waarom NoSQL? &#8212; NoSQL boek</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.e8e5499552300ddf5d7adccae7cc3b70.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hoe NoSQL?" href="nosql-1.html" />
    <link rel="prev" title="Gestructureerde gegevens" href="data-1.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">NoSQL boek</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Welkom bij het NoSQL boek
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Data en structuur
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="data-0.html">
   Data en informatie
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data-1.html">
   Gestructureerde gegevens
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  NoSQL en MongoDB
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Waarom NoSQL?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nosql-1.html">
   Hoe NoSQL?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mongodb-0.html">
   MongoDB
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mongodb-1.html">
   MongoDB: zoekopdrachten
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mongodb-init.html">
   MongoDB initialisatie
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Structuur en Linked data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="structuur-0.html">
   Structuur: JSON-schema
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="structuur-1.html">
   Linked data: JSON-LD
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  jbook
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="markdown.html">
   Markdown Files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="notebooks.html">
   Content with notebooks
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/nosql-0.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fnosql-0.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/nosql-0.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#structuur-van-de-data">
   Structuur van de data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#oplossingen-met-tabellen">
     Oplossingen met tabellen
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aard-van-het-gebruik">
   Aard van het gebruik
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#stabiliteit-versus-flexibiliteit">
     Stabiliteit versus flexibiliteit
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#meerdere-verschillende-toepassingen">
     Meerdere (verschillende) toepassingen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#consistentie">
     Consistentie
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overzicht">
     Overzicht
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="waarom-nosql">
<h1>Waarom NoSQL?<a class="headerlink" href="#waarom-nosql" title="Permalink to this headline">¶</a></h1>
<p>Relationele (SQL) database-systemen zijn (veruit) de meest-gebruikte database-systemen.
Maar een relationele database vormt niet voor elk database-probleem de beste oplossing.
Daarom zijn in de loop van de tijd alternatieve <em>NoSQL</em> database-systemen ontwikkeld.
In dit gedeelte gaan we in op de redenen om af te wijken van de relationele principes.
Later geven we een concreet voorbeeld van het gebruik van een NoSQL database.</p>
<p>De belangrijkste redenen voor het gebruik van een NoSQL database zijn:</p>
<ul class="simple">
<li><p>de <em>structuur van de data</em>: als deze niet past bij een “rechthoekige tabel-structuur”;</p></li>
<li><p>de <em>aard van het gebruik</em>: als deze niet past bij de aannames en doelstellingen van relationele database-systemen (RDBMS-en).</p></li>
</ul>
<div class="section" id="structuur-van-de-data">
<h2>Structuur van de data<a class="headerlink" href="#structuur-van-de-data" title="Permalink to this headline">¶</a></h2>
<p>We hebben gezien dat het ontwerpen van een database in hoofdlijnen uit twee fases bestaat.
In de eerste fase bepaal je de structuur van de data uit de eisen en eigenschappen van de “business”,
zonder rekening te houden met de beschikbare structuren van een bepaald database-systeem.
In de tweede fase vertaal je de data-structuren naar de beschikbare structuren van een bepaald database-systeem, bijvoorbeeld naar de tabellen van een relationeel (SQL) DBMS.</p>
<p>In principe kun je elke data-structuur vertalen naar een relationele tabelstructuur.
Maar dat levert niet altijd een efficiënt resultaat op.
Zoals we eerder gezien hebben, zijn de volgende onderdelen lastig voor een relationele tabelstructuur:</p>
<ul class="simple">
<li><p><strong>(veel) optionele attributen.</strong> Deze optionele attributen geven “gaten” in de tabellen. Als er veel gaten zijn, is de tabelstructuur niet efficiënt.</p></li>
<li><p><strong>meerwaardige attributen.</strong> Voor elk meerwaardig attribuut heb je (in principe) een extra tabel nodig; voor het raadplegen daarvan heb je dan steeds extra join-operaties nodig.</p></li>
<li><p><strong>samengestelde attributen.</strong> Een SQL-tabel kent geen “nesting”: de elementen van een samengesteld attribuut moet je “platslaan” tot het niveau van de tabel.</p></li>
</ul>
<div class="figure align-default" id="contact-entiteit">
<a class="reference internal image-reference" href="_images/contact-model.png"><img alt="_images/contact-model.png" src="_images/contact-model.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-number">Fig. 1 </span><span class="caption-text">Contact-entiteit met attributen</span><a class="headerlink" href="#contact-entiteit" title="Permalink to this image">¶</a></p>
</div>
<p>Een <em>contact</em>, zoals je dat tegenkomt in een contacten-database op een smartphone, combineert veel van deze lastige elementen:</p>
<ul class="simple">
<li><p>er zijn veel optionele attributen, die maar door enkele contacten gebruikt worden (denk aan: verjaardig, naam partner, e.d.);</p></li>
<li><p>een contact kan meerdere telefoonnummers of adressen hebben (meerwaardige attributen);</p></li>
<li><p>een adres is samengesteld uit meerdere delen: straat, huisnummer, postcode, woonplaats. Dit is een voorbeeld van een meerwaardig samengesteld attribut.</p></li>
</ul>
<p>Een dergelijk contact kun je wel eenvoudig vertalen naar een JSON-structuur, zoals we later zullen zien.</p>
<div class="section" id="oplossingen-met-tabellen">
<h3>Oplossingen met tabellen<a class="headerlink" href="#oplossingen-met-tabellen" title="Permalink to this headline">¶</a></h3>
<p>Je kunt een aantal van deze problemen oplossen met behulp van een klein aantal extra tabellen.</p>
</div>
</div>
<div class="section" id="aard-van-het-gebruik">
<h2>Aard van het gebruik<a class="headerlink" href="#aard-van-het-gebruik" title="Permalink to this headline">¶</a></h2>
<p>Relationele database-systemen zijn ontworpen met bepaalde aannames over het gebruik.
Als het gebruik van een database niet aansluit bij deze aannames, is de relationele oplossing minder efficiënt.
Als deze efficiëntie een grote rol speelt bij dit gebruik, dan is een NoSQL-oplossing mogelijk beter.</p>
<p>Enkele van de aannames van RDBMS-en:</p>
<ul class="simple">
<li><p>relatief stabiele data-structuur (statische typering);</p></li>
<li><p>consistentie als essentiële eigenschap</p></li>
<li><p>meerdere (verschillende) toepassingen</p></li>
<li></li>
</ul>
<div class="section" id="stabiliteit-versus-flexibiliteit">
<h3>Stabiliteit versus flexibiliteit<a class="headerlink" href="#stabiliteit-versus-flexibiliteit" title="Permalink to this headline">¶</a></h3>
<p>Relationele DBMS-en zijn gericht op stabiliteit. De tabellen hebben een vast schema, met statische typering van de velden. (Dat wil zeggen: de tabel bepaalt het type van de velden; niet de indivuduele rijen of records.)
De prijs hiervoor is dat het lastiger is om de structuur van de tabellen te veranderen; en een verandering in het schema van een tabel geldt voor alle rijen (records) in die tabel.</p>
<p>Een document-database zoals MongoDB maakt een veel flexibeler aanpak mogelijk, waarbij het “schema” van een <em>collection</em> (verzameling gelijksoortige documenten) geleidelijk aangepast kan worden.</p>
</div>
<div class="section" id="meerdere-verschillende-toepassingen">
<h3>Meerdere (verschillende) toepassingen<a class="headerlink" href="#meerdere-verschillende-toepassingen" title="Permalink to this headline">¶</a></h3>
<p>Bij een relationele database staat de data voorop: later kunnen verschillende toepassingen ontworpen worden die deze data gebruiken.
Een gevolg van deze aanname is dat de database in principe verantwoordelijk is voor de integriteit en consistentie van de data.
Een toepassing die zich niet geheel volgens de regels gedraagt kan de consistentie van de data niet zomaar aantasten.</p>
<p>Als je een database ontwerpt voor gebruik door één toepassing, bijvoorbeeld een webwinkel, dan kan een andere taakverdeling tussen database-systeem en toepassing efficiënter zijn.</p>
</div>
<div class="section" id="consistentie">
<h3>Consistentie<a class="headerlink" href="#consistentie" title="Permalink to this headline">¶</a></h3>
<p>Bij databases heb je met verschillende soorten consistentie te maken.</p>
<ul class="simple">
<li><p>interne consistentie</p></li>
<li><p>consistentie met betrekking tot schijf- en leesopdrachten</p></li>
<li><p>consistentie tussen de database en de “business”</p></li>
</ul>
<p>De (onmiddellijke) consistentie van een relationele database betekent dat een leesopdracht het resultaat omvat van de voorafgaande schrijfopdrachten.</p>
<p>NoSQL database-systemen bieden vaak een zwakkere vorm: uiteindelijke consistentie (eventual consistency).
Dit betekent dat het resultaat van een schrijfopdracht uiteindelijk in de leesopdrachten terug te vinden is; maar dat hoef niet bij de eerstvolgende leesopdracht al het geval te zijn.</p>
</div>
<div class="section" id="overzicht">
<h3>Overzicht<a class="headerlink" href="#overzicht" title="Permalink to this headline">¶</a></h3>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>SQL</p></th>
<th class="text-align:left head"><p>NoSQL</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>(onmiddellijke) consistentie</p></td>
<td class="text-align:left"><p>uiteindelijke consistentie</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>centrale database</p></td>
<td class="text-align:left"><p>distributie, replicatie, synchronisatie</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="data-1.html" title="previous page">Gestructureerde gegevens</a>
    <a class='right-next' id="next-link" href="nosql-1.html" title="next page">Hoe NoSQL?</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Eelco Dijkstra<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>